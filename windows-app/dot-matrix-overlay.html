<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maya Screen Analysis</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: transparent;
      pointer-events: none;
    }
    .overlay {
      position: fixed;
      inset: 0;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .overlay.active { opacity: 1; }
    .overlay.fade-out { 
      opacity: 0; 
      transition: opacity 1.2s ease-out;
    }
    canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    .scan-status {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(15, 15, 25, 0.9);
      backdrop-filter: blur(10px);
      padding: 12px 24px;
      border-radius: 30px;
      border: 1px solid rgba(77, 255, 163, 0.3);
      color: #4DFFA3;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .scan-status.active { opacity: 1; }
    .scan-pulse {
      width: 8px;
      height: 8px;
      background: #4DFFA3;
      border-radius: 50%;
      animation: pulse 1s infinite;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.5); opacity: 0.5; }
    }
  </style>
</head>
<body>
  <div class="overlay" id="overlay">
    <canvas id="canvas"></canvas>
  </div>
  <div class="scan-status" id="scanStatus">
    <div class="scan-pulse"></div>
    <span>Maya is analyzing your screen...</span>
  </div>
  <script>
    const overlay = document.getElementById('overlay');
    const scanStatus = document.getElementById('scanStatus');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    let animationId = null;
    let dots = [];
    let scanY = 0;
    let isScanning = false;
    const DOT_SPACING = 24;
    const DOT_SIZE = 2;
    const SCAN_SPEED = 4;
    
    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      initDots();
    }
    
    function initDots() {
      dots = [];
      const cols = Math.ceil(canvas.width / DOT_SPACING);
      const rows = Math.ceil(canvas.height / DOT_SPACING);
      
      for (let row = 0; row < rows; row++) {
        for (let col = 0; col < cols; col++) {
          dots.push({
            x: col * DOT_SPACING + DOT_SPACING / 2,
            y: row * DOT_SPACING + DOT_SPACING / 2,
            alpha: 0.1,
            scanned: false,
            glowIntensity: 0
          });
        }
      }
    }
    
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      if (isScanning) {
        scanY += SCAN_SPEED;
        if (scanY > canvas.height + 100) {
          scanY = -100;
        }
      }
      
      // Draw dots
      for (const dot of dots) {
        const distFromScan = Math.abs(dot.y - scanY);
        
        if (isScanning && distFromScan < 60) {
          const intensity = 1 - (distFromScan / 60);
          dot.alpha = 0.1 + intensity * 0.7;
          dot.glowIntensity = intensity;
          dot.scanned = true;
        } else if (dot.scanned) {
          dot.alpha = Math.max(0.15, dot.alpha - 0.02);
          dot.glowIntensity = Math.max(0, dot.glowIntensity - 0.03);
        }
        
        // Draw glow
        if (dot.glowIntensity > 0.1) {
          const gradient = ctx.createRadialGradient(
            dot.x, dot.y, 0,
            dot.x, dot.y, DOT_SIZE * 4
          );
          gradient.addColorStop(0, `rgba(77, 255, 163, ${dot.glowIntensity * 0.5})`);
          gradient.addColorStop(1, 'rgba(77, 255, 163, 0)');
          ctx.fillStyle = gradient;
          ctx.fillRect(dot.x - DOT_SIZE * 4, dot.y - DOT_SIZE * 4, DOT_SIZE * 8, DOT_SIZE * 8);
        }
        
        // Draw dot
        ctx.beginPath();
        ctx.arc(dot.x, dot.y, DOT_SIZE, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(77, 255, 163, ${dot.alpha})`;
        ctx.fill();
      }
      
      // Draw scan line
      if (isScanning) {
        const gradient = ctx.createLinearGradient(0, scanY - 40, 0, scanY + 40);
        gradient.addColorStop(0, 'rgba(77, 255, 163, 0)');
        gradient.addColorStop(0.5, 'rgba(77, 255, 163, 0.6)');
        gradient.addColorStop(1, 'rgba(77, 255, 163, 0)');
        ctx.fillStyle = gradient;
        ctx.fillRect(0, scanY - 40, canvas.width, 80);
      }
      
      animationId = requestAnimationFrame(animate);
    }
    
    window.startScan = function() {
      overlay.classList.remove('fade-out');
      overlay.classList.add('active');
      scanStatus.classList.add('active');
      isScanning = true;
      scanY = -100;
      initDots();
      if (!animationId) animate();
    };
    
    window.stopScan = function() {
      isScanning = false;
      overlay.classList.add('fade-out');
      scanStatus.classList.remove('active');
      setTimeout(() => {
        overlay.classList.remove('active', 'fade-out');
        if (animationId) {
          cancelAnimationFrame(animationId);
          animationId = null;
        }
      }, 1200);
    };
    
    resize();
    window.addEventListener('resize', resize);
  </script>
</body>
</html>

