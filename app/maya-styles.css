@reference "./globals.css";


/* MAYA: Minimal scoped reset - prevents website CSS conflicts without breaking MAYA */
    .maya-shell, .maya-shell *,
    .maya-blob-shell, .maya-blob-shell *,
    .maya-blob-card, .maya-blob-card *,
    .maya-chat-timeline, .maya-chat-timeline *,
    .maya-keyboard-input-container, .maya-keyboard-input-container * {
      box-sizing: border-box !important;
    }

/* MAYA: Main container - isolated from website styles */
    .maya-shell *{box-sizing:border-box !important}
    /* .maya-shell styles are now handled via Tailwind classes on the <MayaShell /> component */

    /* Base layout for .maya-blob-shell is handled here to guarantee
       correct bottom-right positioning across all states. Additional
       visual effects (pseudo-elements, fullscreen/side-panel states)
       are defined below. */
    .maya-blob-shell{
      position: fixed !important;
      bottom: 24px !important;
      right: 24px !important;
      width: 120px !important;
      height: 120px !important;
      display: grid !important;
      place-items: center !important;
      pointer-events: auto !important;
      z-index: 2147483647 !important;
      transition: transform 0.25s ease-out, opacity 0.25s ease-out !important;
      overflow: visible !important;
      visibility: visible !important;
      opacity: 1 !important;
      margin: 0 !important;
      padding: 0 !important;
      border: none !important;
      background: transparent !important;
    }
    /* Futuristic ambient orbits behind MAYA */
    .maya-blob-shell::before,
    .maya-blob-shell::after{
      content: "" !important;
      position: absolute !important;
      inset: -140px !important;
      border-radius: 32px !important;
      pointer-events: none !important;
      opacity: 0 !important;
      z-index: -1 !important;
      transform: translate3d(0,0,0) !important;
      transition: opacity 0.6s ease !important;
    }
    .maya-blob-shell.maya-expanded::before,
    .maya-blob-shell.maya-side-panel::before{
      opacity: 0.5 !important;
      background:
        radial-gradient(circle at 0% 0%, rgba(0,255,200,0.12) 0%, transparent 55%),
        radial-gradient(circle at 100% 0%, rgba(77,163,255,0.14) 0%, transparent 55%),
        radial-gradient(circle at 50% 100%, rgba(139,93,255,0.16) 0%, transparent 55%) !important;
      filter: blur(32px) !important;
    }
    .maya-blob-shell.maya-expanded::after,
    .maya-blob-shell.maya-side-panel::after{
      opacity: 0.3 !important;
      background:
        radial-gradient(circle at 20% 20%, rgba(0,255,200,0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(77,163,255,0.1) 0%, transparent 50%) !important;
      mix-blend-mode: screen !important;
      filter: blur(24px) !important;
    }
    .maya-blob-shell.maya-expanded{
      bottom: 0 !important;
      right: 0 !important;
      left: 0 !important;
      top: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      background:
        radial-gradient(circle at 5% 0%, rgba(0,255,200,0.08) 0%, transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(77,163,255,0.12) 0%, transparent 60%),
        linear-gradient(135deg, rgba(4,12,32,0.45), rgba(2,6,18,0.65)) !important;
      backdrop-filter: blur(40px) saturate(1.6) brightness(1.05) !important;
      border-radius: 0 !important;
      border: 1px solid rgba(255,255,255,0.08) !important;
      display: block !important;
      box-shadow: inset 0 0 100px rgba(255,255,255,0.02) !important;
    }
    .maya-blob-shell.maya-side-panel{
      bottom: 0 !important;
      right: 0 !important;
      left: auto !important;
      top: 0 !important;
      width: 450px !important;
      height: 100vh !important;
      background:
        radial-gradient(circle at 5% 0%, rgba(0,255,200,0.08) 0%, transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(77,163,255,0.12) 0%, transparent 60%),
        linear-gradient(135deg, rgba(4,12,32,0.5), rgba(2,6,18,0.7)) !important;
      backdrop-filter: blur(40px) saturate(1.6) brightness(1.05) !important;
      border-left: 1px solid rgba(255,255,255,0.1) !important;
      display: block !important;
      box-shadow: -4px 0 40px rgba(0,0,0,0.4), inset 0 0 100px rgba(255,255,255,0.02) !important;
    }
    @keyframes maya-slide-to-side-panel{
      0%{
        width:100vw;
        left:0;
        transform:translateX(0)
      }
      100%{
        width:450px;
        left:auto;
        transform:translateX(0)
      }
    }
    @keyframes maya-slide-to-fullscreen{
      0%{
        width:450px;
        left:auto;
        transform:translateX(0)
      }
      100%{
        width:100vw;
        left:0;
        transform:translateX(0)
      }
    }

    @media (max-width: 768px){
      .maya-blob-shell.maya-side-panel{
        width:100vw !important;
        left:0 !important
      }
    }
    @keyframes maya-expand-fullscreen{
      0%{
        width:120px;
        height:120px;
        bottom:24px;
        right:24px;
        left:auto;
        top:auto;
        opacity:0.3;
        border-radius:50%;
        backdrop-filter:blur(0px) saturate(1) brightness(1.8);
        background:radial-gradient(circle at 90% 90%, rgba(255,255,255,0.3) 0%, rgba(100,150,255,0.4) 100%)
      }
      30%{
        width:40vw;
        height:40vh;
        bottom:12px;
        right:12px;
        left:auto;
        top:auto;
        opacity:0.6;
        border-radius:30%;
        backdrop-filter:blur(15px) saturate(1.1) brightness(1.4);
        background:radial-gradient(circle at 85% 85%, rgba(255,255,255,0.15) 0%, rgba(50,100,200,0.7) 100%)
      }
      60%{
        width:70vw;
        height:70vh;
        bottom:6px;
        right:6px;
        left:auto;
        top:auto;
        opacity:0.85;
        border-radius:10%;
        backdrop-filter:blur(30px) saturate(1.15) brightness(1.1);
        background:radial-gradient(circle at 80% 80%, rgba(255,255,255,0.05) 0%, rgba(10,30,80,0.9) 100%)
      }
      100%{
        width:100vw;
        height:100vh;
        bottom:0;
        right:0;
        left:0;
        top:0;
        opacity:1;
        border-radius:0%;
        backdrop-filter:blur(40px) saturate(1.2) brightness(1);
        background:radial-gradient(circle at 90% 90%, rgba(255,255,255,0.02) 0%, rgba(5,15,35,0.98) 100%)
      }
    }
    @keyframes maya-collapse-fullscreen{
      0%{
        width:100vw;
        height:100vh;
        bottom:0;
        right:0;
        left:0;
        top:0;
        border-radius:0%;
        backdrop-filter:blur(40px) saturate(1.2) brightness(1);
        background:radial-gradient(circle at 90% 90%, rgba(255,255,255,0.02) 0%, rgba(5,15,35,0.98) 100%);
      }
      50%{
        width:70vw;
        height:70vh;
        bottom:6px;
        right:6px;
        left:auto;
        top:auto;
        border-radius:14%;
        backdrop-filter:blur(26px) saturate(1.15) brightness(1.08);
      }
      100%{
        width:120px;
        height:120px;
        bottom:24px;
        right:24px;
        left:auto;
        top:auto;
        border-radius:50%;
        backdrop-filter:blur(0px) saturate(1) brightness(1.15);
        background:radial-gradient(circle at 90% 90%, rgba(255,255,255,0.24) 0%, rgba(100,150,255,0.4) 100%);
      }
    }

    .maya-blob-card{
      position: relative !important;
      display: block !important;
      width: 100% !important;
      height: 100% !important;
      overflow: visible !important;
      cursor: pointer !important;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
      filter: drop-shadow(0 0 40px rgba(77,163,255,0.7)) !important;
      will-change: transform, filter !important;
      contain: layout !important;
      pointer-events: auto !important;
      z-index: 3 !important;
      visibility: visible !important;
      opacity: 1 !important;
      margin: 0 !important;
      padding: 0 !important;
      border: none !important;
      background: transparent !important;
    }
    .maya-side-panel .maya-blob-card{
      width: 80px !important;
      height: 80px !important;
      position: absolute !important;
      top: 20px !important;
      left: 20px !important;
      right: auto !important;
      transform: none !important;
      cursor: default !important;
      opacity: 1 !important;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
      animation: maya-blob-fade-in 0.2s ease-out forwards !important;
    }
    .maya-expanded .maya-blob-card{
      width: 140px !important;
      height: 140px !important;
      position: absolute !important;
      top: 40px !important;
      left: 40px !important;
      right: auto !important;
      transform: none !important;
      cursor:default;
      opacity:0;
      transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      animation:maya-blob-fade-in 0.2s ease-out forwards
    }
    @keyframes maya-blob-fade-in{
      from{ opacity:0; transform:scale(0.5) }
      to{ opacity:1; transform:scale(1) }
    }
    .maya-blob-card.maya-blob-speaking{
      filter: drop-shadow(0 0 100px rgba(77,255,163,1)) drop-shadow(0 0 60px rgba(77,255,200,0.8)) !important;
      animation: maya-blob-speak-pulse 0.6s ease-in-out infinite, maya-blob-speak-rotate 3s linear infinite !important;
    }
    .maya-expanded .maya-blob-card.maya-blob-speaking{
      animation: maya-blob-speak-pulse-expanded 0.6s ease-in-out infinite, maya-blob-speak-rotate 3s linear infinite !important;
    }
    @keyframes maya-blob-speak-pulse{
      0%,100%{transform:scale(1)}
      25%{transform:scale(1.15)}
      50%{transform:scale(1.08)}
      75%{transform:scale(1.2)}
    }
    @keyframes maya-blob-speak-pulse-expanded{
      0%,100%{transform:scale(1)}
      25%{transform:scale(1.15)}
      50%{transform:scale(1.08)}
      75%{transform:scale(1.2)}
    }
    @keyframes maya-blob-speak-rotate{
      0%{filter:drop-shadow(0 0 100px rgba(77,255,163,1)) drop-shadow(0 0 60px rgba(77,255,200,0.8)) blur(0px) hue-rotate(0deg)}
      25%{filter:drop-shadow(0 0 120px rgba(100,255,180,1)) drop-shadow(0 0 80px rgba(77,255,220,0.9)) blur(0.5px) hue-rotate(10deg)}
      50%{filter:drop-shadow(0 0 100px rgba(77,255,163,1)) drop-shadow(0 0 60px rgba(77,255,200,0.8)) blur(0px) hue-rotate(0deg)}
      75%{filter:drop-shadow(0 0 120px rgba(100,255,180,1)) drop-shadow(0 0 80px rgba(77,255,220,0.9)) blur(0.5px) hue-rotate(-10deg)}
      100%{filter:drop-shadow(0 0 100px rgba(77,255,163,1)) drop-shadow(0 0 60px rgba(77,255,200,0.8)) blur(0px) hue-rotate(0deg)}
    }
    .maya-blob-card:not(.maya-expanded){
      transform:none
    }
    .maya-blob-card::before,
    .maya-blob-card::after{
      content:"";
      position:absolute;
      top:50%;
      left:50%;
      width:100%;
      height:100%;
      border-radius:50%;
      border:3px solid rgba(77,255,163,0.6);
      transform:translate(-50%,-50%) scale(0);
      opacity:0;
      pointer-events:none
    }
    .maya-blob-card.maya-blob-speaking::before{
      animation:maya-pulse-ring 1.5s ease-out infinite
    }
    .maya-blob-card.maya-blob-speaking::after{
      animation:maya-pulse-ring 1.5s ease-out infinite 0.75s
    }
    @keyframes maya-pulse-ring{
      0%{
        transform:translate(-50%,-50%) scale(0.8);
        opacity:1
      }
      100%{
        transform:translate(-50%,-50%) scale(2.5);
        opacity:0
      }
    }
    .maya-blob-canvas{
      position: absolute !important;
      inset: 0 !important;
      width: 100% !important;
      height: 100% !important;
      will-change: contents !important;
      pointer-events: none !important;
      visibility: visible !important;
      opacity: 1 !important;
      margin: 0 !important;
      padding: 0 !important;
      border: none !important;
      background: transparent !important;
    }
    .maya-listening-indicator{
      position: absolute !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%,-50%) !important;
      width: 450px !important;
      height: 450px !important;
      border-radius: 50% !important;
      border: 2px solid rgba(77,163,255,0.3) !important;
      opacity: 0 !important;
      pointer-events: none !important;
      transition: opacity 0.4s ease !important;
      margin: 0 !important;
      padding: 0 !important;
      background: transparent !important;
    }
    .maya-listening-indicator.active{
      opacity: 1 !important;
      animation: maya-listening-pulse 2.5s ease-in-out infinite !important;
    }
    /* In expanded & side panel modes, center the listening ring on the blob */
    .maya-expanded .maya-listening-indicator{
      top: 110px !important;
      left: 110px !important;
    }
    .maya-side-panel .maya-listening-indicator{
      top: 60px !important;
      left: 60px !important;
    }
    @media (max-width: 600px){
      .maya-expanded .maya-listening-indicator{
        top:60px;
        left:60px;
      }
    }
    @keyframes maya-listening-pulse{
      0%,100%{
        transform:translate(-50%,-50%) scale(0.9);
        opacity:0.5;
        border-color:rgba(77,163,255,0.4);
      }
      50%{
        transform:translate(-50%,-50%) scale(1.15);
        opacity:0.2;
        border-color:rgba(139,93,255,0.6);
      }
    }

    .maya-close-overlay{
      position: absolute !important;
      top: 30px !important;
      right: 30px !important;
      width: 50px !important;
      height: 50px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      backdrop-filter: blur(10px) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      font-size: 22px !important;
      line-height: 1 !important;
      cursor: pointer !important;
      opacity: 0 !important;
      transition: all 0.3s ease !important;
      pointer-events: none !important;
      color: rgba(255,255,255,0.7) !important;
      user-select: none !important;
      -webkit-user-select: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .maya-expanded .maya-close-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      z-index: 9999 !important;
    }
    /* Hide action buttons when in blob card state (not expanded, not side panel) */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-close-overlay{
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .maya-close-overlay:hover{
      background: rgba(255,95,95,0.2) !important;
      border-color: rgba(255,95,95,0.4) !important;
      transform: scale(1.1) !important;
      color: rgba(255,255,255,1) !important;
    }
    .maya-side-panel .maya-close-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      z-index: 9999 !important;
      top: 20px !important;
      right: 20px !important;
      width: 45px !important;
      height: 45px !important;
      font-size: 20px !important;
    }
    .maya-minimize-overlay{
      position: absolute !important;
      top: 30px !important;
      right: 90px !important;
      width: 50px !important;
      height: 50px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      backdrop-filter: blur(10px) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      opacity: 0 !important;
      transition: all 0.3s ease !important;
      pointer-events: none !important;
      color: rgba(255,255,255,0.8) !important;
      user-select: none !important;
      -webkit-user-select: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .maya-minimize-overlay i{
      font-size: 20px !important;
      line-height: 1 !important;
      display: block !important;
    }
    .maya-expanded .maya-minimize-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      z-index: 9999 !important;
    }
    /* Hide action buttons when in blob card state (not expanded, not side panel) */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-minimize-overlay{
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .maya-side-panel .maya-minimize-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      z-index: 9999 !important;
      top: 20px !important;
      right: 185px !important;
      width: 45px !important;
      height: 45px !important;
    }
    .maya-side-panel .maya-minimize-overlay i{
      font-size: 18px !important;
    }
    .maya-minimize-overlay:hover{
      background: rgba(255,255,255,0.18) !important;
      border-color: rgba(255,255,255,0.4) !important;
      transform: scale(1.08) !important;
      color: rgba(255,255,255,1) !important;
    }
    @media (max-width: 768px){
      .maya-minimize-overlay{
        display: none !important;
      }
    }
    /* Ensure control overlays sit above the blob */
    .maya-close-overlay,
    .maya-minimize-overlay,
    .maya-stop-overlay,
    .maya-mute-overlay,
    .maya-keyboard-overlay{ z-index: 100 !important; }

    .maya-stop-overlay{
      position: absolute !important;
      top: 30px !important;
      right: 154px !important;
      width: 50px !important;
      height: 50px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      backdrop-filter: blur(10px) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      opacity: 0 !important;
      transition: all 0.3s ease !important;
      pointer-events: none !important;
      color: rgba(255,255,255,0.8) !important;
      user-select: none !important;
      -webkit-user-select: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .maya-stop-overlay i{
      font-size: 20px !important;
      line-height: 1 !important;
      display: block !important;
    }
    .maya-expanded .maya-stop-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
    }
    /* Hide action buttons when in blob card state (not expanded, not side panel) */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-stop-overlay{
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .maya-side-panel .maya-stop-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      top: 20px !important;
      right: 75px !important;
      width: 45px !important;
      height: 45px !important;
    }
    .maya-side-panel .maya-stop-overlay i{
      font-size: 18px !important;
    }
    .maya-stop-overlay:hover{
      background: rgba(255,255,255,0.18) !important;
      border-color: rgba(255,255,255,0.4) !important;
      transform: scale(1.08) !important;
    }

    .maya-mute-overlay{
      position: absolute !important;
      top: 30px !important;
      right: 216px !important;
      width: 50px !important;
      height: 50px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      backdrop-filter: blur(10px) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      opacity: 0 !important;
      transition: all 0.3s ease !important;
      pointer-events: none !important;
      color: rgba(255,255,255,0.8) !important;
      user-select: none !important;
      -webkit-user-select: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .maya-mute-overlay i{
      font-size: 20px !important;
      line-height: 1 !important;
      display: block !important;
    }
    .maya-expanded .maya-mute-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
    }
    /* Hide action buttons when in blob card state (not expanded, not side panel) */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-mute-overlay{
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .maya-side-panel .maya-mute-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
      top: 20px !important;
      right: 130px !important;
      width: 45px !important;
      height: 45px !important;
    }
    .maya-side-panel .maya-mute-overlay i{
      font-size: 18px !important;
    }
    .maya-mute-overlay:hover{
      background: rgba(255,255,255,0.18) !important;
      border-color: rgba(255,255,255,0.4) !important;
      transform: scale(1.08) !important;
    }
    .maya-mute-overlay.muted{
      background: rgba(255,95,95,0.15) !important;
      border-color: rgba(255,95,95,0.35) !important;
      color: rgba(255,200,200,0.95) !important;
    }


    .maya-keyboard-overlay{
      position: absolute !important;
      bottom: 120px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      width: 60px !important;
      height: 60px !important;
      border-radius: 50% !important;
      background: rgba(77,163,255,0.15) !important;
      backdrop-filter: blur(10px) !important;
      border: 2px solid rgba(77,163,255,0.3) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      opacity: 0 !important;
      transition: all 0.3s ease !important;
      pointer-events: none !important;
      color: rgba(255,255,255,0.9) !important;
      user-select: none !important;
      -webkit-user-select: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .maya-keyboard-overlay i{
      font-size: 26px !important;
      line-height: 1 !important;
      display: block !important;
    }
    /* Only show keyboard overlay when in expanded or side panel mode */
    .maya-expanded .maya-keyboard-overlay,
    .maya-side-panel .maya-keyboard-overlay{
      opacity: 1 !important;
      pointer-events: auto !important;
    }
    /* Hide keyboard overlay when minimized to blob (default state) */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-keyboard-overlay{
      opacity: 0 !important;
      pointer-events: none !important;
      display: none !important;
    }
    .maya-keyboard-overlay.hidden{
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .maya-keyboard-overlay:hover{
      background: rgba(77,163,255,0.25) !important;
      border-color: rgba(77,163,255,0.5) !important;
      transform: translateX(-50%) scale(1.1) !important;
      box-shadow: 0 0 20px rgba(77,163,255,0.4) !important;
    }
    .maya-keyboard-overlay.active{
      background: rgba(139,93,255,0.25) !important;
      border-color: rgba(139,93,255,0.5) !important;
    }
    @media (max-width: 768px){
      .maya-keyboard-overlay{
        bottom: 110px !important;
      }
    }



    .maya-mic-allow-btn i{
      font-size: 16px !important;
      margin-right: 8px !important;
      vertical-align: -2px !important;
    }

    .maya-keyboard-input-container{
      position: absolute !important;
      bottom: 1.5em !important;
      left: 50% !important;
      transform: translateX(-50%) translateY(10px) !important;
      width: 92% !important;
      max-width: 760px !important;
      display: flex !important;
      align-items: center !important;
      gap: 10px !important;
      opacity: 0 !important;
      pointer-events: none !important;
      padding: 10px 12px !important;
      border-radius: 32px !important;
      background: linear-gradient(135deg, rgba(8,18,40,0.86), rgba(6,16,38,0.92)) !important;
      border: 1px solid rgba(255,255,255,0.06) !important;
      box-shadow: 0 20px 50px rgba(0,0,0,0.7) !important;
      backdrop-filter: blur(22px) saturate(1.4) !important;
      transform-origin: 50% 100% !important;
      transition: opacity 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease !important;
      margin: 0 !important;
    }
    .maya-keyboard-input-container.active{
      opacity: 1 !important;
      pointer-events: auto !important;
      transform: translateX(-50%) translateY(0) !important;
    }
    /* Hide keyboard input container when minimized to blob */
    .maya-blob-shell:not(.maya-expanded):not(.maya-side-panel) .maya-keyboard-input-container{
      opacity: 0 !important;
      pointer-events: none !important;
      display: none !important;
    }
    .maya-side-panel .maya-keyboard-input-container{
      left:50%;
      max-width:none;
      width:90%;
      bottom:30px;
    }
    .maya-keyboard-input{
      flex: 1 1 auto !important;
      padding: 14px 18px !important;
      background: rgba(20,30,60,0.8) !important;
      border: 2px solid rgba(77,163,255,0.4) !important;
      border-radius: 30px !important;
      color: rgba(255,255,255,0.95) !important;
      font-size: 16px !important;
      font-family: "Raleway", sans-serif !important;
      outline: none !important;
      backdrop-filter: blur(10px) !important;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3) !important;
      resize: none !important;
      line-height: 1.35 !important;
      min-height: 46px !important;
      max-height: 35vh !important;
      overflow: auto !important;
      margin: 0 !important;
    }
    .maya-keyboard-input::placeholder{ color: rgba(255,255,255,0.4) !important; }
    /* Hide scrollbar but keep scrollable */
    .maya-keyboard-input{ -ms-overflow-style: none !important; scrollbar-width: none !important; }
    .maya-keyboard-input::-webkit-scrollbar{ width: 0 !important; height: 0 !important; }

    .maya-keyboard-input:focus{ border-color: rgba(77,163,255,0.7) !important; box-shadow: 0 4px 30px rgba(77,163,255,0.3) !important; }
    .maya-send-btn{
      display: flex !important;
      width: 52px !important;
      height: 52px !important;
      min-width: 52px !important;
      flex-shrink: 0 !important;
      border-radius: 50% !important;
      background: linear-gradient(135deg, rgba(77,163,255,0.25), rgba(139,93,255,0.25)) !important;
      border: 1px solid rgba(77,163,255,0.45) !important;
      color: #fff !important;
      cursor: pointer !important;
      align-items: center !important;
      justify-content: center !important;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3) !important;
      transition: transform 0.15s ease, box-shadow 0.15s ease !important;
      margin: 0 !important;
      padding: 0 !important;
      user-select: none !important;
      -webkit-user-select: none !important;
    }
    .maya-send-btn i{
      font-size: 19px !important;
      line-height: 1 !important;
      display: block !important;
      margin-left: 2px !important;
    }
    .maya-send-btn:active{
      transform: scale(0.96) !important;
      box-shadow: 0 4px 14px rgba(0,0,0,0.3) !important;
    }

    .maya-input-mode-toggle{
      display: flex !important;
      width: 52px !important;
      height: 52px !important;
      min-width: 52px !important;
      flex-shrink: 0 !important;
      border-radius: 50% !important;
      background: rgba(77,163,255,0.15) !important;
      border: 2px solid rgba(77,163,255,0.3) !important;
      color: rgba(255,255,255,0.9) !important;
      cursor: pointer !important;
      align-items: center !important;
      justify-content: center !important;
      backdrop-filter: blur(10px) !important;
      transition: all 0.3s ease !important;
      margin: 0 !important;
      padding: 0 !important;
      user-select: none !important;
      -webkit-user-select: none !important;
    }
    .maya-input-mode-toggle i{
      font-size: 22px !important;
      line-height: 1 !important;
      display: block !important;
    }
    .maya-input-mode-toggle:hover{
      background: rgba(77,163,255,0.25) !important;
      border-color: rgba(77,163,255,0.5) !important;
      transform: scale(1.05) !important;
    }
    .maya-input-mode-toggle.active{
      background: rgba(139,93,255,0.25) !important;
      border-color: rgba(139,93,255,0.5) !important;
    }
    /* Side panel & mobile reuse same toggle; always visible alongside the send button */
    .maya-side-panel .maya-input-mode-toggle{
      display: flex !important;
    }
    @media (max-width: 768px){
      .maya-input-mode-toggle{
        display: flex !important;
      }
    }
    @media (max-width: 768px){
      .maya-keyboard-input-container{
        width:90%;
        bottom:30px;
        max-width:none;
        left:50%;
        transform:translateX(-50%)
      }
      /* Mobile uses side panel layout in fullscreen */
      .maya-expanded .maya-chat-timeline{
        top:140px !important;
        left:0 !important;
        right:0 !important;
        width:100% !important;
        transform:none !important;
        padding:20px 20px 140px 20px !important;
        max-height:calc(100vh - 280px) !important
      }
      .maya-expanded .maya-blob-card{
        width:80px !important;
        height:80px !important;
        top:20px !important;
        left:20px !important
      }
      .maya-expanded .maya-close-overlay{
        top:20px !important;
        right:20px !important;
        width:45px !important;
        height:45px !important
      }
      .maya-expanded .maya-stop-overlay{
        top:20px !important;
        right:75px !important;
        width:45px !important;
        height:45px !important
      }
      .maya-expanded .maya-mute-overlay{
        top:20px !important;
        right:130px !important;
        width:45px !important;
        height:45px !important
      }
    }

    .maya-chat-timeline{
      position: absolute !important;
      top: 40px !important;
      left: 50% !important;
      right: auto !important;
      width: 92% !important;
      max-width: 760px !important;
      max-height: calc(100vh - 180px) !important;
      overflow-y: auto !important;
      opacity: 0 !important;
      pointer-events: none !important;
      padding: 24px 32px 140px 32px !important;
      transform: translate(-50%, 0) !important;
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
      scrollbar-width: thin !important;
      scrollbar-color: rgba(77,163,255,0.3) transparent !important;
      z-index: 1 !important;
      transition: opacity 0.4s ease !important;
      margin: 0 !important;
    }

    .maya-chat-timeline::-webkit-scrollbar{
      width:6px;
    }
    .maya-chat-timeline::-webkit-scrollbar-track{
      background:transparent;
    }
    .maya-chat-timeline::-webkit-scrollbar-thumb{
      background:rgba(77,163,255,0.3);
      border-radius:3px;
    }
    .maya-expanded .maya-chat-timeline{
      opacity: 1 !important;
      pointer-events: auto !important;
      transform: translate(-50%, 0) !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: stretch !important;
      justify-content: flex-start !important;
      top: 120px !important;
      padding: 40px 32px 180px 32px !important;
      max-height: calc(100vh - 300px) !important;
    }
    .maya-side-panel .maya-chat-timeline{
      opacity: 1 !important;
      pointer-events: auto !important;
      left: 0 !important;
      top: 140px !important;
      transform: translate(0, 0) !important;
      width: 100% !important;
      max-width: 450px !important;
      max-height: calc(100vh - 260px) !important;
      padding: 18px 18px 150px 18px !important;
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
    }
    .maya-chat-message{
      margin-bottom: 16px !important;
      display: flex !important;
      flex-direction: column !important;
      animation: maya-message-appear 0.4s ease-out !important;
      margin-top: 0 !important;
      padding: 0 !important;
      border: none !important;
      background: transparent !important;
    }
    .maya-mic-permission{
      position: fixed !important;
      display: none !important;
      bottom: 40px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      pointer-events: auto !important;
      z-index: 1000000 !important;
    }
    .maya-expanded .maya-mic-permission{
      bottom: 40px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      top: auto !important;
      right: auto !important;
    }
    .maya-side-panel .maya-mic-permission{
      bottom: 40px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      top: auto !important;
      right: auto !important;
    }
    .maya-mic-permission.active{
      display: block !important;
    }
    @media (max-width: 768px){
      .maya-mic-permission{
        bottom: 30px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 90% !important;
        max-width: 400px !important;
      }
    }
    .maya-mic-permission-card{
      position:relative;
      background:rgba(10,20,50,0.9);
      border:1px solid rgba(77,163,255,0.35);
      box-shadow:0 10px 40px rgba(0,0,0,0.35);
      backdrop-filter:blur(20px);
      color:#fff;
      padding:16px 18px 14px 18px;
      border-radius:16px;
      width:280px;
      font-family: "Raleway", sans-serif !important;
    }
    .maya-mic-title{font-weight:700;margin-bottom:6px;padding-right:20px}
    .maya-mic-desc{opacity:0.85;font-size:14px;margin-bottom:12px}
    .maya-mic-close-btn{
      position:absolute;
      top:8px;
      right:8px;
      width:22px;
      height:22px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.3);
      background:rgba(7,16,40,0.9);
      color:rgba(255,255,255,0.8);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:14px;
      cursor:pointer;
      padding:0;
      transition:background 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }
    .maya-mic-close-btn:hover{
      background:rgba(20,40,80,0.95);
      border-color:rgba(255,255,255,0.5);
      box-shadow:0 4px 14px rgba(0,0,0,0.5);
      transform:scale(1.05);
    }
    .maya-mic-allow-btn{
      display:inline-block;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(77,163,255,0.5);
      background:linear-gradient(135deg, rgba(77,163,255,0.3), rgba(139,93,255,0.3));
      color:#fff;
      cursor:pointer;
      transition:all 0.2s ease
    }
    .maya-mic-allow-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 6px 20px rgba(77,163,255,0.35)
    }
    @keyframes maya-message-appear{
      from{
        opacity:0;
      }
      to{
        opacity:1;
      }
    }
    .maya-chat-message.user{
      align-items: flex-end !important;
    }
    .maya-chat-message.assistant{
      align-items: flex-start !important;
    }
    .maya-chat-bubble{
      max-width: 80% !important;
      padding: 12px 18px !important;
      border-radius: 20px !important;
      font-size: 15px !important;
      line-height: 1.5 !important;
      word-wrap: break-word !important;
      background: rgba(4,12,32,0.55) !important;
      backdrop-filter: blur(18px) saturate(1.35) !important;
      box-shadow: none !important;
      border: 1px solid rgba(255,255,255,0.06) !important;
      transition: transform 0.18s ease, border-color 0.18s ease !important;
      margin: 0 !important;
      font-family: "Raleway", sans-serif !important;
    }
    .maya-chat-message.user .maya-chat-bubble{
      background: linear-gradient(135deg, rgba(34,120,255,0.65), rgba(0,200,155,0.6)) !important;
      border-color: rgba(77,213,255,0.85) !important;
      color: rgba(255,255,255,0.98) !important;
      border-bottom-right-radius: 6px !important;
    }
    .maya-chat-message.assistant .maya-chat-bubble{
      background: linear-gradient(135deg, rgba(20,36,90,0.9), rgba(40,118,255,0.8)) !important;
      border-color: rgba(139,93,255,0.8) !important;
      color: rgba(255,255,255,0.96) !important;
      border-bottom-left-radius: 6px !important;
    }
    .maya-chat-bubble:hover{
      border-color: rgba(255,255,255,0.12) !important;
      transform: translateY(-1px) !important;
    }
    .maya-chat-message.assistant.maya-thinking .maya-chat-bubble{
      max-width:60%;
      justify-content:center;
      align-items:center;
    }
    .maya-thinking-bubble{
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
      margin: 0 !important;
      padding: 0 !important;
      border: none !important;
      background: transparent !important;
    }
    .maya-typing-dot{
      width: 6px !important;
      height: 6px !important;
      margin: 0 2px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.8) !important;
      opacity: 0.5 !important;
      animation: maya-typing-bounce 0.8s infinite ease-in-out !important;
      padding: 0 !important;
      border: none !important;
    }
    .maya-typing-dot:nth-child(2){ animation-delay:0.12s; }
    .maya-typing-dot:nth-child(3){ animation-delay:0.24s; }
    @keyframes maya-typing-bounce{
      0%,80%,100%{
        transform:translateY(0) scale(1);
        opacity:0.5;
      }
      40%{
        transform:translateY(-4px) scale(1.15);
        opacity:1;
      }
    }

    /* Atlas-style AI Dots Animation for Web Analysis */
    .maya-ai-dots-wrapper {
      position: fixed;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.8s ease;
      backdrop-filter: blur(2px);
      z-index: 999998; /* Behind MAYA's panel (999999) but above page content */
    }
    .maya-ai-dots-wrapper::before {
      content: '';
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at center, transparent 0%, transparent 30%, rgba(10,25,47,0.4) 60%, rgba(5,15,30,0.7) 85%, rgba(0,5,15,0.85) 100%),
        radial-gradient(circle at 15% 20%, rgba(20,40,80,0.15), transparent 50%),
        radial-gradient(circle at 85% 70%, rgba(15,30,60,0.12), transparent 45%);
      animation: maya-gradient-pulse 6s ease-in-out infinite;
      will-change: opacity;
    }
    .maya-ai-dots-wrapper.active {
      opacity: 1;
    }
    @keyframes maya-gradient-pulse {
      0%, 100% {
        opacity: 0.7;
      }
      50% {
        opacity: 1;
      }
    }
    .maya-ai-dots-canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
    }
    .maya-ai-dots-label {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      color: rgba(255,255,255,0.95);
      font-size: 14px;
      font-weight: 500;
      text-align: center;
      z-index: 2;
      text-shadow: 0 2px 16px rgba(0,0,0,0.8), 0 0 30px rgba(77,163,255,0.3);
      animation: maya-dots-label-pulse 2s ease-in-out infinite;
      background: rgba(10,25,47,0.5);
      padding: 10px 24px;
      border-radius: 24px;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(77,163,255,0.2);
    }
    @keyframes maya-dots-label-pulse {
      0%, 100% { opacity: 0.85; }
      50% { opacity: 1; }
    }
    .maya-chat-bubble pre{ background:rgba(0,0,0,0.35); padding:12px; border-radius:12px; overflow:auto; border:1px solid rgba(255,255,255,0.08); margin:8px 0 }
    .maya-chat-bubble code{ background:rgba(0,0,0,0.25); padding:2px 6px; border-radius:6px; font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:0.95em }

    .maya-chat-timestamp{
      font-size:11px;
      color:rgba(255,255,255,0.4);
      margin-top:4px;
      padding:0 8px;
      font-family: "Raleway", sans-serif !important;
    }

    /* Picture-in-Picture Mode Styles */
.maya-pip-window{
  position: fixed !important;
  bottom: 0 !important;
  right: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: linear-gradient(135deg, rgba(4,12,32,0.98), rgba(2,6,18,0.98)) !important;
  backdrop-filter: blur(40px) saturate(1.6) brightness(1.05) !important;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6), inset 0 0 100px rgba(255,255,255,0.02) !important;
  z-index: 2147483647 !important; /* Maximum z-index for PIP */
  display: none !important;
  flex-direction: column !important;
  overflow: hidden !important;
  pointer-events: auto !important;
  transition: all 0.3s ease !important;
  font-family: "Raleway", ui-sans-serif, system-ui, -apple-system, sans-serif !important;
  margin: 0px !important;
  padding: 0px !important;
  box-sizing: border-box !important;
  border-radius: 16px !important;
}
    .maya-pip-window.active{
      display: flex !important;
    }
    .maya-pip-header{
      display: none !important; /* Hide header - no status bar */
    }
    .maya-pip-title{
      font-size: 14px !important;
      font-weight: 600 !important;
      color: rgba(255,255,255,0.95) !important;
      display: flex !important;
      align-items: center !important;
      gap: 8px !important;
      font-family: "Raleway", sans-serif !important;
    }
    .maya-pip-controls{
      display: flex !important;
      gap: 8px !important;
    }
    .maya-pip-btn{
      width: 28px !important;
      height: 28px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      color: rgba(255,255,255,0.8) !important;
      transition: all 0.2s ease !important;
      font-size: 14px !important;
    }
    .maya-pip-btn:hover{
      background: rgba(255,255,255,0.15) !important;
      transform: scale(1.1) !important;
    }
    .maya-pip-content{
      flex: 1 !important;
      display: flex !important;
      flex-direction: column !important;
      overflow: hidden !important;
      position: relative !important;
      height: 100% !important;
      width: 100% !important;
      margin: 0 !important;
      padding: 0 !important;
      box-sizing: border-box !important;
    }
    .maya-pip-blob{
      position: absolute !important;
      top: 20px !important;
      left: 20px !important;
      transform: none !important;
      width: 60px !important;
      height: 60px !important;
      z-index: 10 !important;
    }
    .maya-pip-chat{
      flex: 1 !important;
      overflow-y: auto !important;
      padding: 80px 16px 16px 16px !important;
      scrollbar-width: thin !important;
      scrollbar-color: rgba(77,163,255,0.3) transparent !important;
      font-family: "Raleway", sans-serif !important;
      width: 100% !important;
      margin: 0 !important;
      box-sizing: border-box !important;
    }
    .maya-pip-chat::-webkit-scrollbar{ width: 4px !important; }
    .maya-pip-chat::-webkit-scrollbar-track{ background: transparent !important; }
    .maya-pip-chat::-webkit-scrollbar-thumb{ background: rgba(77,163,255,0.3) !important; border-radius: 2px !important; }
    .maya-pip-input-container{
      padding: 16px !important;
      background: rgba(255,255,255,0.03) !important;
      border-top: 1px solid rgba(255,255,255,0.08) !important;
      display: flex !important;
      gap: 10px !important;
      align-items: center !important;
      width: 100% !important;
      box-sizing: border-box !important;
      margin: 0 !important;
      position: relative !important;
    }
    .maya-pip-input{
      flex: 1 !important;
      padding: 10px 14px !important;
      background: rgba(20,30,60,0.8) !important;
      border: 2px solid rgba(77,163,255,0.4) !important;
      border-radius: 20px !important;
      color: rgba(255,255,255,0.95) !important;
      font-size: 14px !important;
      outline: none !important;
      resize: none !important;
      max-height: 100px !important;
      overflow-y: auto !important;
      font-family: "Raleway", sans-serif !important;
    }
    .maya-pip-input::placeholder{ color: rgba(255,255,255,0.4) !important; }
    .maya-pip-voice-visualizer{
      flex: 1 !important;
      height: 50px !important;
      background: rgba(20,30,60,0.8) !important;
      border: 2px solid rgba(77,163,255,0.4) !important;
      border-radius: 20px !important;
      display: none !important;
      position: relative !important;
      overflow: hidden !important;
    }
    .maya-pip-voice-visualizer.active{
      display: block !important;
    }
    .maya-pip-voice-canvas{
      width: 100% !important;
      height: 100% !important;
      display: block !important;
    }
    .maya-pip-voice-label{
      position: absolute !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      color: rgba(255,255,255,0.6) !important;
      font-size: 12px !important;
      font-family: "Raleway", sans-serif !important;
      pointer-events: none !important;
      z-index: 1 !important;
    }
    .maya-pip-action-btn{
      width: 36px !important;
      height: 36px !important;
      border-radius: 50% !important;
      background: rgba(255,255,255,0.08) !important;
      border: 1px solid rgba(255,255,255,0.15) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      color: rgba(255,255,255,0.85) !important;
      font-size: 14px !important;
      transition: all 0.2s ease !important;
      flex-shrink: 0 !important;
    }
    .maya-pip-action-btn:hover{
      background: rgba(255,255,255,0.15) !important;
      transform: scale(1.05) !important;
    }
    .maya-pip-action-btn.muted{
      background: rgba(255,95,95,0.2) !important;
      border-color: rgba(255,95,95,0.4) !important;
      color: rgba(255,95,95,0.95) !important;
    }
    /* Hide mode toggle button by default in PIP */
    #maya-pip-mode-toggle{
      display: none !important;
    }
    /* Show mode toggle button in PIP so user can switch between voice and keyboard */
    #maya-pip-mode-toggle{
      display: flex !important;
    }

    .maya-pip-top-controls{
      position: absolute !important;
      top: 20px !important;
      right: 20px !important;
      display: flex !important;
      gap: 8px !important;
      z-index: 20 !important;
    }
    .maya-pip-send{
      width: 40px !important;
      height: 40px !important;
      border-radius: 50% !important;
      background: linear-gradient(135deg, rgba(77,163,255,0.25), rgba(139,93,255,0.25)) !important;
      border: 1px solid rgba(77,163,255,0.45) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      cursor: pointer !important;
      color: #fff !important;
      font-size: 16px !important;
      transition: all 0.2s ease !important;
      flex-shrink: 0 !important;
    }
    .maya-pip-send:hover{
      transform: scale(1.05) !important;
    }

    @media(max-width:600px){
      .maya-blob-shell{
        bottom:16px;
        right:16px;
        width:140px;
        height:140px
      }

    }
    .maya-mic-btn{
      width:24px;
      height:24px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.2);
      background:radial-gradient(circle at 0% 0%,rgba(255,255,255,0.6),rgba(255,95,95,0.7));
      display:inline-flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      font-size:13px;
      transition:box-shadow .12s ease,transform .08s ease,border-color .12s ease
    }
    .maya-mic-btn.maya-listening{
      border-color:rgba(255,130,130,0.9);
      box-shadow:0 0 18px rgba(255,120,120,1);
      transform:translateY(-1px)
    }
    .maya-mic-status{opacity:.9}
    @media(max-width:600px){
      .maya-panel-overlay{padding:10px}
      .maya-panel{
        width:100%;
        max-height:80vh
      }
    }
